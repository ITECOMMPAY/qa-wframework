# Codeception Test Suite Configuration
#
# Suite for acceptance tests.
# Perform tests in browser using the WebDriver or PhpBrowser.
# If you need both WebDriver and PHPBrowser tests - create a separate suite.

actor: DodgeTester
modules:
    enabled:
        - Common\Module\WFramework\Modules\LoggerModule
        - Common\Module\WFramework\Modules\WebAssertsModule
        - Common\Module\WFramework\Modules\SeleniumServerModule
        - Common\Module\WFramework\Modules\ShotsStorageModule:
            source:    'local'
            accessKey: '***accessKey***'
            secretKey: '***secretKey***'
            bucket:    '***bucket***'
        - Common\Module\WFramework\Modules\WebTestingModule:
            depends:
                - Common\Module\WFramework\Modules\LoggerModule
                - Common\Module\WFramework\Modules\SeleniumServerModule
                - Common\Module\WFramework\Modules\WebAssertsModule
                - Common\Module\WFramework\Modules\ShotsStorageModule
            elementTimeout: 16               # Таймаут умных ожиданий для PageObject'ов (наследников WBlock, WElement)
            collectionTimeout: 32            # Таймаут умных ожиданий для коллекций PageObject'ов (наследников WElements)
            autostartSeleniumServer: true    # Автоматически запускать SeleniumServer при старте тестов
            clickViaJS: false                # Кликать на всех элементах с помощью JavaScript
            autoClickViaJS: false            # Если не получилось кликнуть по элементу с помощью Selenium - кликнуть с помощью JavaScript
            clickOnHref: true                # Если элемент в DOM-дереве содержит среди своих детей <a> - то кликать по ней, а не по центру элемента
            topBarHeight: 100                 # При прокрутке viewport к элементу, будет сохранён отступ от верхней границы viewport равный этому числу в пикселях
            holdBrowserOpen: false           # Оставлять браузер запущенным после завершения теста (помогает в дебаге, но забивает память множеством копий веб-драйвера)
            restartBeforeEachTest: true      # Запускать чистую сессию браузера Перед каждым тестом
            clear_cookies: false             # Очищать куки после прогона теста
            debug: true                      # Выводить в консоль полный лог прогона теста, а в HTML-лог добавить больше скриншотов прогона (сильно замедляет прогон тестов)
            takeScreenshots: true            # Делать скриншоты прогона для HTML-лога
            screenshotsToVideo: true         # Преобразовывать скриншоты HTML-лога в видео
            capabilities:
                build: "Build XXX"
                project: 'DODGE'
                name: 'Test Run'
            shotRun: false
            maxDeviation: 10
